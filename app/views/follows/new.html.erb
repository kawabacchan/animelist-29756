<header>
  <div class="header-title">アニメリスト</div>
  <div class="header-menu"><%= link_to "マイページに戻る", root_path %></div>
</header>

<div class="wrapper">
  <div class="right-part">
    <div class="my-page-title">
      <div class="my-page-title-user"><%= @friend_user.nickname %>さんのリスト</div>
      <div class="my-page-title-follow">
        <% if @follows.find_by(friend_id: @friend_user.id).present? %>
          <span class="title-follow-display">フォロー中<span>
        <% else %>
          <%= form_with model: @follow, url: follows_path, local: true do |f| %>
            <%= f.number_field :user_id, value: current_user.id, class:"hidden" %>
            <%= f.number_field :friend_id, value: @friend_user.id, class:"hidden" %>
            <%= f.submit "フォローする", class: "follow-submit" %>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="right-part-without-title">
      <% @friend_lists.each do |list| %>
        <div class="my-lists">
          <table class="anime-lists">
            <tr>
              <th colspan="4"><%= list.name %></th>
            </tr>
            <tr>
              <th class="th-anime-name">タイトル名</th>
              <th class="th-anime-genre">ジャンル</th>
              <th class="th-anime-score">評価点</th>
              <th class="th-anime-memo">メモ</th>
            </tr>
            <% Anime.where(list_id: list.id).each do |anime| %>
              <div class="anime-list">
                <tr>
                  <td><div class="td-anime-name"><%= link_to anime.name, list_anime_path(list_id: anime.list_id, id: anime.id) %></div></td>
                  <td><div class="td-anime-genre"><%= anime.genre.name %></div></td>
                  <td><div class="td-anime-score"><%= anime.score %></div></td>
                  <td><div class="td-anime-memo"><%= anime.memo %></div></td>
                </tr>
              </div>
            <% end %>
          </table>
        </div>
      <% end %>
      <div class="end-page-space">
      </div>
    </div>
  </div>
</div>